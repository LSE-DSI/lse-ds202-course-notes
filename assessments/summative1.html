<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.269">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Dr.&nbsp;Jon Cardoso-Silva">
<meta name="dcterms.date" content="2022-10-25">

<title>LSE DS202 2022/23 - Summative Problem Set 01 | W05-W07</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="..//figures/logos/LSE Data Science Institute.png" rel="icon" type="image/png">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>

  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<link rel="stylesheet" href="../css/custom_style.css">
</head>

<body class="nav-sidebar docked nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">LSE DS202 2022/23</span>
    </a>
  </div>
          <div class="quarto-toggle-container ms-auto">
              <a href="" class="quarto-color-scheme-toggle nav-link" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
              <a href="" class="quarto-reader-toggle nav-link" onclick="window.quartoToggleReader(); return false;" title="Toggle reader mode">
  <div class="quarto-reader-toggle-btn">
  <i class="bi"></i>
  </div>
</a>
          </div>
          <div id="quarto-search" class="" title="Search"></div>
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
    <div class="container-fluid d-flex justify-content-between">
      <h1 class="quarto-secondary-nav-title">Summative Problem Set 01 | W05-W07</h1>
      <button type="button" class="quarto-btn-toggle btn" aria-label="Show secondary navigation">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation docked overflow-auto">
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.html" class="sidebar-item-text sidebar-link">ğŸ  Home</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../main/syllabus.html" class="sidebar-item-text sidebar-link">ğŸ““ Syllabus</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../main/communication.html" class="sidebar-item-text sidebar-link">ğŸ“Ÿ Communication</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../main/assessments.html" class="sidebar-item-text sidebar-link">âœï¸ Assessments</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../main/courserep.html" class="sidebar-item-text sidebar-link">ğŸ—³ï¸ Course Rep</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../blog/main.html" class="sidebar-item-text sidebar-link">ğŸ“š Blog</a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">ğŸ—“ï¸ Weeks</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../weeks/week01.html" class="sidebar-item-text sidebar-link">Week 01</a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#" aria-expanded="false">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../weeks/week01/lecture.html" class="sidebar-item-text sidebar-link">ğŸ‘¨â€ğŸ« Lecture Slides</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../weeks/week01/prep.html" class="sidebar-item-text sidebar-link">ğŸ“’ Prepare for next weekâ€™s lab</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../weeks/week01/appendix.html" class="sidebar-item-text sidebar-link">ğŸ”– Appendix</a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../weeks/week02.html" class="sidebar-item-text sidebar-link">Week 02</a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#" aria-expanded="false">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../weeks/week02/lecture.html" class="sidebar-item-text sidebar-link">ğŸ‘¨â€ğŸ« Lecture Slides</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../weeks/week02/checklist.html" class="sidebar-item-text sidebar-link">âœ… Checklist</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../weeks/week02/lab.html" class="sidebar-item-text sidebar-link">ğŸ’» Lab roadmap</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../weeks/week02/lab_solutions.html" class="sidebar-item-text sidebar-link">âœ”ï¸ Lab solutions</a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../weeks/week03.html" class="sidebar-item-text sidebar-link">Week 03</a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#" aria-expanded="false">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../weeks/week03/lecture.html" class="sidebar-item-text sidebar-link">ğŸ‘¨â€ğŸ« Lecture Slides</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../weeks/week03/checklist.html" class="sidebar-item-text sidebar-link">âœ… Checklist</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../weeks/week03/lab.html" class="sidebar-item-text sidebar-link">ğŸ’» Lab roadmap</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../weeks/week03/lab_solutions.html" class="sidebar-item-text sidebar-link">âœ”ï¸ Lab solutions</a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../weeks/week04.html" class="sidebar-item-text sidebar-link">Week 04</a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#" aria-expanded="false">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../weeks/week04/lecture.html" class="sidebar-item-text sidebar-link">ğŸ‘¨â€ğŸ« Lecture</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../weeks/week04/checklist.html" class="sidebar-item-text sidebar-link">âœ… Checklist</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../weeks/week04/lab.html" class="sidebar-item-text sidebar-link">ğŸ’» Lab roadmap</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../weeks/week04/lab_solutions.html" class="sidebar-item-text sidebar-link">âœ”ï¸ Lab solutions</a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../weeks/week05.html" class="sidebar-item-text sidebar-link">Week 05</a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#" aria-expanded="false">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../weeks/week05/lecture.html" class="sidebar-item-text sidebar-link">ğŸ‘¨â€ğŸ« Lecture</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../weeks/week05/checklist.html" class="sidebar-item-text sidebar-link">âœ… Checklist</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../weeks/week05/lab.html" class="sidebar-item-text sidebar-link">ğŸ’» Lab roadmap</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../weeks/week05/lab_solutions.html" class="sidebar-item-text sidebar-link">âœ”ï¸ Lab solutions</a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../weeks/week06.html" class="sidebar-item-text sidebar-link">Week 06</a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#" aria-expanded="false">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../weeks/week06/checklist.html" class="sidebar-item-text sidebar-link">âœ… Checklist</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../weeks/week06/drop_in_jon.html" class="sidebar-item-text sidebar-link">ğŸ’» Drop-in Session 01</a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../weeks/week07.html" class="sidebar-item-text sidebar-link">Week 07</a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#" aria-expanded="false">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../weeks/week07/lecture.html" class="sidebar-item-text sidebar-link">ğŸ‘¨â€ğŸ« Lecture</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../weeks/week07/checklist.html" class="sidebar-item-text sidebar-link">âœ… Checklist</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../weeks/week07/lab.html" class="sidebar-item-text sidebar-link">ğŸ’» Lab roadmap</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../weeks/week07/lab_solutions.html" class="sidebar-item-text sidebar-link">âœ”ï¸ Lab solutions</a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../weeks/week08.html" class="sidebar-item-text sidebar-link">Week 08</a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#" aria-expanded="false">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../weeks/week08/lecture.html" class="sidebar-item-text sidebar-link">ğŸ‘¨â€ğŸ« Lecture</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../weeks/week08/checklist.html" class="sidebar-item-text sidebar-link">âœ… Checklist</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../weeks/week08/lab.html" class="sidebar-item-text sidebar-link">ğŸ’» Lab roadmap</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../weeks/week08/lab_advanced.html" class="sidebar-item-text sidebar-link">âœ¨ Bonus Lab (Optional)</a>
  </div>
</li>
      </ul>
  </li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar"><div class="quarto-margin-header"><div class="margin-header-item">
<p><img src="../figures/logos/LSE Data Science Institute.png" class="img-fluid"></p>
</div></div>
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#instructions" id="toc-instructions" class="nav-link active" data-scroll-target="#instructions">ğŸ“’ Instructions</a>
  <ul class="collapse">
  <li><a href="#how-to-get-help" id="toc-how-to-get-help" class="nav-link" data-scroll-target="#how-to-get-help">How to get help</a></li>
  <li><a href="#setup" id="toc-setup" class="nav-link" data-scroll-target="#setup">âš™ï¸ Setup</a></li>
  </ul></li>
  <li><a href="#the-data-algerian-forest-fires" id="toc-the-data-algerian-forest-fires" class="nav-link" data-scroll-target="#the-data-algerian-forest-fires">The Data: Algerian forest fires</a>
  <ul class="collapse">
  <li><a href="#data-dictionary" id="toc-data-dictionary" class="nav-link" data-scroll-target="#data-dictionary">Data Dictionary</a>
  <ul class="collapse">
  <li><a href="#date-columns" id="toc-date-columns" class="nav-link" data-scroll-target="#date-columns">Date columns</a></li>
  <li><a href="#columns-related-to-weather-data-observations" id="toc-columns-related-to-weather-data-observations" class="nav-link" data-scroll-target="#columns-related-to-weather-data-observations">Columns related to weather data observations</a></li>
  <li><a href="#columns-related-to-fwi-components-fwi_wiki" id="toc-columns-related-to-fwi-components-fwi_wiki" class="nav-link" data-scroll-target="#columns-related-to-fwi-components-fwi_wiki">Columns related to FWI components </a></li>
  <li><a href="#the-column-we-want-to-predict" id="toc-the-column-we-want-to-predict" class="nav-link" data-scroll-target="#the-column-we-want-to-predict">The column we want to predict</a></li>
  </ul></li>
  <li><a href="#loading-the-data" id="toc-loading-the-data" class="nav-link" data-scroll-target="#loading-the-data">Loading the data</a>
  <ul class="collapse">
  <li><a href="#take-a-look-at-the-data" id="toc-take-a-look-at-the-data" class="nav-link" data-scroll-target="#take-a-look-at-the-data">Take a look at the data</a></li>
  </ul></li>
  <li><a href="#what-we-want-from-you" id="toc-what-we-want-from-you" class="nav-link" data-scroll-target="#what-we-want-from-you">What we want from you</a></li>
  </ul></li>
  <li><a href="#questions---part-i" id="toc-questions---part-i" class="nav-link" data-scroll-target="#questions---part-i">ğŸ¯ Questions - Part I</a>
  <ul class="collapse">
  <li><a href="#q1.-fire-days" id="toc-q1.-fire-days" class="nav-link" data-scroll-target="#q1.-fire-days">Q1. Fire days</a></li>
  <li><a href="#q2.-fire-days-in-common" id="toc-q2.-fire-days-in-common" class="nav-link" data-scroll-target="#q2.-fire-days-in-common">Q2. Fire days in common</a></li>
  <li><a href="#q3.-exploratory-data-analysis---part-i" id="toc-q3.-exploratory-data-analysis---part-i" class="nav-link" data-scroll-target="#q3.-exploratory-data-analysis---part-i">Q3. Exploratory Data Analysis - Part I</a></li>
  <li><a href="#q4.-exploratory-data-analysis---part-ii" id="toc-q4.-exploratory-data-analysis---part-ii" class="nav-link" data-scroll-target="#q4.-exploratory-data-analysis---part-ii">Q4. Exploratory Data Analysis - Part II</a></li>
  <li><a href="#q5.-exploratory-data-analysis---part-iii" id="toc-q5.-exploratory-data-analysis---part-iii" class="nav-link" data-scroll-target="#q5.-exploratory-data-analysis---part-iii">Q5. Exploratory Data Analysis - Part III</a></li>
  </ul></li>
  <li><a href="#questions---part-ii" id="toc-questions---part-ii" class="nav-link" data-scroll-target="#questions---part-ii">ğŸ¯ Questions - Part II</a>
  <ul class="collapse">
  <li><a href="#q6.-logistic-regression-model" id="toc-q6.-logistic-regression-model" class="nav-link" data-scroll-target="#q6.-logistic-regression-model">Q6. Logistic Regression Model</a></li>
  <li><a href="#q7.-logistic-regression-model---justification" id="toc-q7.-logistic-regression-model---justification" class="nav-link" data-scroll-target="#q7.-logistic-regression-model---justification">Q7. Logistic Regression Model - Justification</a></li>
  <li><a href="#q8.-logistic-regression-model---diagnostics" id="toc-q8.-logistic-regression-model---diagnostics" class="nav-link" data-scroll-target="#q8.-logistic-regression-model---diagnostics">Q8. Logistic Regression Model - Diagnostics</a></li>
  </ul></li>
  <li><a href="#questions---part-iii" id="toc-questions---part-iii" class="nav-link" data-scroll-target="#questions---part-iii">ğŸ¯ Questions - Part III</a>
  <ul class="collapse">
  <li><a href="#q9.-logistic-regression-model---confusion-matrix" id="toc-q9.-logistic-regression-model---confusion-matrix" class="nav-link" data-scroll-target="#q9.-logistic-regression-model---confusion-matrix">Q9. Logistic Regression Model - Confusion Matrix</a></li>
  <li><a href="#q10.-logistic-regression-model---classification-metrics" id="toc-q10.-logistic-regression-model---classification-metrics" class="nav-link" data-scroll-target="#q10.-logistic-regression-model---classification-metrics">Q10. Logistic Regression Model - Classification metrics</a></li>
  <li><a href="#q11.-logistic-regression-model---optimal-threshold-challenging" id="toc-q11.-logistic-regression-model---optimal-threshold-challenging" class="nav-link" data-scroll-target="#q11.-logistic-regression-model---optimal-threshold-challenging">Q11. Logistic Regression Model - Optimal Threshold (Challenging)</a></li>
  </ul></li>
  <li><a href="#questions---part-iv" id="toc-questions---part-iv" class="nav-link" data-scroll-target="#questions---part-iv">ğŸ¯ Questions - Part IV</a>
  <ul class="collapse">
  <li><a href="#q12.-test-set-predictions" id="toc-q12.-test-set-predictions" class="nav-link" data-scroll-target="#q12.-test-set-predictions">Q12. Test set predictions</a></li>
  <li><a href="#q13.-diagnostics" id="toc-q13.-diagnostics" class="nav-link" data-scroll-target="#q13.-diagnostics">Q13. Diagnostics</a></li>
  </ul></li>
  <li><a href="#questions---part-v" id="toc-questions---part-v" class="nav-link" data-scroll-target="#questions---part-v">ğŸ¯ Questions - Part V</a>
  <ul class="collapse">
  <li><a href="#q14.-alternative-models-challenging" id="toc-q14.-alternative-models-challenging" class="nav-link" data-scroll-target="#q14.-alternative-models-challenging">Q14. Alternative Models (Challenging)</a></li>
  <li><a href="#decompress" id="toc-decompress" class="nav-link" data-scroll-target="#decompress">Decompress</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title d-none d-lg-block">Summative Problem Set 01 | W05-W07</h1>
<p class="subtitle lead">DS202 - Data Science for Social Scientists</p>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>DS202 2022MT Teaching Group </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">25 October 2022</p>
    </div>
  </div>
  
    
  </div>
  

</header>

<p>Welcome to the first Summative Problem Set of DS202 (2022/23)!</p>
<p><strong>Things to know before you start:</strong></p>
<ol type="1">
<li><strong>Deadline</strong>: you have until <strong>9 November 2022, 23:59 UK time</strong> (Week 07) to complete your solutions and submit <a href="https://moodle.lse.ac.uk/mod/coursework/view.php?id=1131232&amp;forceview=1">via Moodle</a>.</li>
<li>You will be granted a maximum of 100 points for the whole assignment. You will see how much each task is right next to the tasksâ€™ names.</li>
<li>This assessment is worth <strong>20%</strong> of your final grade.</li>
<li>Read the instructions carefully and make sure you follow them.</li>
</ol>
<div class="callout-important callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Important
</div>
</div>
<div class="callout-body-container callout-body">
<p>Your feedback on the formative problem set was very important! We heard that many of you are still learning â€” and struggling with â€” R, and this can get in the way of learning about Machine Learning.</p>
<p>So, for this summative, we will not be relying too much on pure R skills. We provide most of the code that you will need, and we explicitly encourage you to publicly ask questions about programming. You can read our comprehensive list of tips <a href="../assessments/summative1.html#how-to-get-help">below</a>.</p>
</div>
</div>
<section id="instructions" class="level1">
<h1>ğŸ“’ Instructions</h1>
<p><strong>Read carefully</strong></p>
<p><strong>1.</strong> Download this page as an <code>.Rmd</code> file, as well as the two accompanying CSV files from Moodle (follow <a href="https://moodle.lse.ac.uk/mod/folder/view.php?id=1131557">this link</a>). Ensure all files are saved in the same directory. Open the RMarkdown file in RStudio.</p>
<p><strong>2.</strong> Work on your solutions and fill the allocated spaces with your answers. Each question has one or more empty spaces for you to fill out.</p>
<p>Text answers are identified as:</p>
<blockquote class="blockquote">
<p>Your text goes here</p>
</blockquote>
<p>R code answers are identified as:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Replace this by your code</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="co"># REMEMBER TO REMOVE ALL HASH SIGNS OR YOUR CODE WILL NOT RUN!!!</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="co"># YOU WILL MARKED AS 0 IN A QUESTION IF YOUR CODE DOES NOT PRODUCE </span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="co"># ANY OUTPUT WHEN IT WOULD HAVE BEEN EXPECTED.</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Equation answers are identified as:</p>
<p><span class="math display">\[Your~equation~goes~here\]</span></p>
<p>You can add more code R code, plots, text or equations to complement your responses if you want to. For extra tips on formatting equations see <a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a>.</p>
<p><strong>3.</strong> After you answer all the questions, you should press the Knit button, and knit the file to HTML. If you cannot find this button in RStudio, check out <a href="https://www.youtube.com/watch?v=8eBBPVMwTLo">this tutorial</a>.</p>
<p><strong>4.</strong> An HTML file will appear in your files. This is what you must submit to Moodle.</p>
<p><strong>5.</strong> Open <a href="https://moodle.lse.ac.uk/mod/coursework/view.php?id=1131232&amp;forceview=1">Moodle</a> and submit your HTML file.</p>
<div style="display:inline-block;border-style: dotted;border-width: 1px;border-color: &quot;#fefefe&quot;; margin:1%;padding:1.5%;background-color:#fafafa">
<p>âš ï¸ <strong>IMPORTANT</strong>:</p>
<ul>
<li><em>If your code has any errors, you might not be able to knit the document. You must fix those errors first.</em></li>
<li><em>If you do not know how to answer a solution, leave it empty. Do not add incomplete R scripts as it will lead to knitting errors.</em></li>
<li><em>Most questions do not have a <strong>single</strong> objective response. You are expected to justify your choices of algorithms, parameters and validation metrics from your experiences in the lectures, labs and your readings of the textbook.</em></li>
</ul>
</div>
<p><br></p>
<details>
<summary>
ğŸ’¡<strong>Click here to learn how to get help</strong>
</summary>
<p><br></p>
<section id="how-to-get-help" class="level2">
<h2 class="anchored" data-anchor-id="how-to-get-help">How to get help</h2>
<ul>
<li><p>It is okay to use whatever additional R packages you can find to help you explore the data and/or models better.</p></li>
<li><p>It is okay to team up with class colleagues to brainstorm ideas and these problems together.</p>
<ul>
<li>Most questions do not have a <em>single</em> objective response. It is unlikely that you will all write the exact same response so we will spot plagiarism and full copy-pastes very easily.</li>
</ul></li>
<li><p>It is ok to use Slack or a shared Google Drive document to share links to useful content. For example, you can share things like:</p>
<ul>
<li><p>â€œTip: I am using this package called <a href="https://www.tidymodels.org/start/resampling/">tidymodels</a> and it is much simpler than writing <code>for</code> loops!â€</p></li>
<li><p>â€˜I found this link useful: <a href="https://stackoverflow.com/questions/23085096/type-parameter-of-the-predict-function">What is the difference between type=â€œclassâ€ and type=â€œresponseâ€ in the predict function?</a>â€™</p></li>
<li><p><a href="https://r-graph-gallery.com/">This website</a> has many examples of charts in R â€” and it has the source code!</p></li>
<li><p>â€˜This R package called <a href="https://lubridate.tidyverse.org/">lubridate</a> helped me work with dates a lot easier!â€™</p></li>
</ul></li>
<li><p>It is ok ask clarification about questions of this problem set publicly on Slack. For example, you can ask questions like:</p>
<ul>
<li>â€œI am a little confused about Question X. Where it says <code>...</code> does it mean <code>....</code>? Am I getting this right?â€</li>
</ul></li>
<li><p>It is also ok to ask generic programming-related questions publicly on Slack. For example, you can ask questions like:</p>
<ul>
<li><p>â€œHow do I get just the last 10 items of a list in R/tidyverse?â€ or</p></li>
<li><p>â€œHow do I sum the number of occurrences of a value in a column?â€</p></li>
<li><p>â€œAnyone else getting an <code>unequal lengths error</code> when creating a new vector? How do I solve this?â€</p></li>
<li><p>â€œI am having a hard time understanding the code below (from Week X lab):</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>new_list <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="fu">length</span>(<span class="fu">dim</span>(some_dataframe)[<span class="dv">1</span>]))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Why so many parentheses? Does anyone how to interpret this? #helpâ€ or even</p></li>
<li><p>â€œHow do I select <em>specific</em> columns of a dataframe by their names?â€ or maybe</p></li>
<li><p>â€œThe <code>pairs</code> plot is too messy, anyone knows of a better way to visualise pairs of variables?â€</p></li>
</ul></li>
<li><p>What we CANNOT accept:</p>
<ul>
<li><p>sharing your entire script or RMarkdown with others. But it is ok to share <em>snippets</em> of code with best practices, or to ask for help, like the type of code people share on <a href="https://stackoverflow.com/questions/tagged/r?tab=Frequent">Stackoverflow</a></p></li>
<li><p>asking others to do your work for you (<a href="https://www.lse.ac.uk/health-policy/student-life/plagiarism">LSE regulations on plagiarism</a> applies to computer code too)</p></li>
<li><p>We will run TurnitIn on your submissions to help flag cases of plagiarism</p></li>
</ul></li>
</ul>
</section></details>
<p><br></p>
<p>THIS IS AN ANONYMOUS SUBMISSION. DO NOT INCLUDE YOUR NAME NOR OTHER PERSONAL INFORMATION ANYWHERE IN THIS FILE OTHER THAN YOUR LSE ID NUMBER.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Complete the line below by filling it out with your LSE ID</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="co"># If you do not add your LSE ID number, knitting will throw an error.</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>LSE_ID <span class="ot">&lt;-</span> <span class="do">## This is a number that starts with the year you joined LSE, like 202208....</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="setup" class="level2">
<h2 class="anchored" data-anchor-id="setup">âš™ï¸ Setup</h2>
<p>Import required libraries.No need to change if you are not planning to use other packages.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidymodels)</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="co"># If you use other packages, add them here</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>

<section id="the-data-algerian-forest-fires" class="level1">
<h1>The Data: Algerian forest fires</h1>
<p>This problem set is a chance for you to explore the true power of machine learning and build a model that will predict the occurrence of forest fires. Forest fires are a huge problem for many countries and a significant sustainability issue. By solving this task, you are expected to build a predictive model but also to try and diagnose which predictors are more predictive of fires.</p>
<blockquote class="blockquote">
<p>âš ï¸ <em>Remember once again: most questions do not have a <strong>single</strong> objective response. You are expected to justify your choices of algorithms, parameters and validation metrics based on your experiences in the lectures and labs and of the readings of the textbook or other recommended reading resources.</em></p>
</blockquote>
<p>How you will be assessed:</p>
<table class="table">
<thead>
<tr class="header">
<th style="text-align: center;"><strong>Question</strong></th>
<th style="text-align: center;"><strong>Marks</strong></th>
<th style="text-align: left;"><strong>Level</strong></th>
<th style="text-align: center;"><strong>Total</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">Q1</td>
<td style="text-align: center;">2</td>
<td style="text-align: left;">Easy</td>
<td style="text-align: center;">2</td>
</tr>
<tr class="even">
<td style="text-align: center;">Q2</td>
<td style="text-align: center;">3</td>
<td style="text-align: left;">Easy</td>
<td style="text-align: center;">5</td>
</tr>
<tr class="odd">
<td style="text-align: center;">Q3</td>
<td style="text-align: center;">2</td>
<td style="text-align: left;">Easy</td>
<td style="text-align: center;">7</td>
</tr>
<tr class="even">
<td style="text-align: center;">Q4</td>
<td style="text-align: center;">3</td>
<td style="text-align: left;">Easy</td>
<td style="text-align: center;">10</td>
</tr>
<tr class="odd">
<td style="text-align: center;">Q5</td>
<td style="text-align: center;">8</td>
<td style="text-align: left;">Medium-Hard</td>
<td style="text-align: center;">18</td>
</tr>
<tr class="even">
<td style="text-align: center;">Q6</td>
<td style="text-align: center;">7</td>
<td style="text-align: left;">Easy-Medium</td>
<td style="text-align: center;">25</td>
</tr>
<tr class="odd">
<td style="text-align: center;">Q7</td>
<td style="text-align: center;">10</td>
<td style="text-align: left;">Medium</td>
<td style="text-align: center;">35</td>
</tr>
<tr class="even">
<td style="text-align: center;">Q8</td>
<td style="text-align: center;">8</td>
<td style="text-align: left;">Medium</td>
<td style="text-align: center;">43</td>
</tr>
<tr class="odd">
<td style="text-align: center;">Q9</td>
<td style="text-align: center;">3</td>
<td style="text-align: left;">Easy</td>
<td style="text-align: center;">46</td>
</tr>
<tr class="even">
<td style="text-align: center;">Q10</td>
<td style="text-align: center;">7</td>
<td style="text-align: left;">Medium</td>
<td style="text-align: center;">53</td>
</tr>
<tr class="odd">
<td style="text-align: center;">Q11</td>
<td style="text-align: center;">12</td>
<td style="text-align: left;">Hard</td>
<td style="text-align: center;">65</td>
</tr>
<tr class="even">
<td style="text-align: center;">Q12</td>
<td style="text-align: center;">7</td>
<td style="text-align: left;">Easy-Medium</td>
<td style="text-align: center;">72</td>
</tr>
<tr class="odd">
<td style="text-align: center;">Q13</td>
<td style="text-align: center;">8</td>
<td style="text-align: left;">Medium-Hard</td>
<td style="text-align: center;">80</td>
</tr>
<tr class="even">
<td style="text-align: center;">Q14</td>
<td style="text-align: center;">20</td>
<td style="text-align: left;">Hard</td>
<td style="text-align: center;">100</td>
</tr>
</tbody>
</table>
<section id="data-dictionary" class="level2">
<h2 class="anchored" data-anchor-id="data-dictionary">Data Dictionary</h2>
<p>We will use a dataset of Algerian forest fires used by Faroudja &amp; Izeboudjen (2019) <a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a> and sourced from the <a href="https://archive.ics.uci.edu/ml/datasets/Algerian+Forest+Fires+Dataset++">UCI ML repository</a>. It has observations on 244 days in Algeria from June to September 2012 in <strong>two regions</strong>:</p>
<ul>
<li>Bejaia, and</li>
<li>Sidi Bel-abbes</li>
</ul>
<p>The dataset contains the following variables:</p>
<section id="date-columns" class="level3">
<h3 class="anchored" data-anchor-id="date-columns">Date columns</h3>
<table class="table">
<thead>
<tr class="header">
<th style="text-align: left;">Column</th>
<th style="text-align: left;">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><code>day</code></td>
<td style="text-align: left;">day of monitoring</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>month</code></td>
<td style="text-align: left;">month of the monitoring (â€˜juneâ€™ to â€˜septemberâ€™)</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>year</code></td>
<td style="text-align: left;">Fixed: 2012</td>
</tr>
</tbody>
</table>
</section>
<section id="columns-related-to-weather-data-observations" class="level3">
<h3 class="anchored" data-anchor-id="columns-related-to-weather-data-observations">Columns related to weather data observations</h3>
<table class="table">
<colgroup>
<col style="width: 20%">
<col style="width: 79%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Column</th>
<th style="text-align: left;">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><code>Temperature</code></td>
<td style="text-align: left;">temperature at noon (max temperature) in Celsius degrees</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>RH</code></td>
<td style="text-align: left;">Relative Humidity in %</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>Ws</code></td>
<td style="text-align: left;">Wind speed in km/h</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>Rain</code></td>
<td style="text-align: left;">total day in mm</td>
</tr>
</tbody>
</table>
</section>
<section id="columns-related-to-fwi-components-fwi_wiki" class="level3">
<h3 class="anchored" data-anchor-id="columns-related-to-fwi-components-fwi_wiki">Columns related to FWI components <a href="#fn3" class="footnote-ref" id="fnref3" role="doc-noteref"><sup>3</sup></a></h3>
<table class="table">
<colgroup>
<col style="width: 20%">
<col style="width: 79%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Column</th>
<th style="text-align: left;">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><code>FFMC</code></td>
<td style="text-align: left;">Fine Fuel Moisture Code index from the FWI system</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>DMC</code></td>
<td style="text-align: left;">Duff Moisture Code index from the FWI system</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>DC</code></td>
<td style="text-align: left;">Drought Code index from the FWI system</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>ISI</code></td>
<td style="text-align: left;">Initial Spread Index index from the FWI system</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>BUI</code></td>
<td style="text-align: left;">Buildup Index index from the FWI system</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>FWI</code></td>
<td style="text-align: left;">Fire Weather Index Index</td>
</tr>
</tbody>
</table>
</section>
<section id="the-column-we-want-to-predict" class="level3">
<h3 class="anchored" data-anchor-id="the-column-we-want-to-predict">The column we want to predict</h3>
<table class="table">
<colgroup>
<col style="width: 20%">
<col style="width: 79%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Column</th>
<th style="text-align: left;">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><code>Classes</code></td>
<td style="text-align: left;">two classes representing the ocurrence of fire</td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="loading-the-data" class="level2">
<h2 class="anchored" data-anchor-id="loading-the-data">Loading the data</h2>
<p>Use the code below to load the two datasets used in this first problem set.</p>
<p>IMPORTANT: Ensure all the dataset files are in the exact same directory as this RMarkdown.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># read_csv is a function of the tidyverse package</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>df_forest_fires_bejaia <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"./Algeria_Forest_Fires_Bejaia_Region_Dataset.csv"</span>)</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>df_forest_fires_sidi   <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"./Algeria_Forest_Fires_Sidi_Bel_Abbes_Region_Dataset.csv"</span>)</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<section id="take-a-look-at-the-data" class="level3">
<h3 class="anchored" data-anchor-id="take-a-look-at-the-data">Take a look at the data</h3>
<div class="sourceCode" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Look at the first few lines of the dataframe</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>df_forest_fires_bejaia <span class="sc">%&gt;%</span> <span class="fu">head</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Look at the first few lines of the dataframe</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>df_forest_fires_sidi <span class="sc">%&gt;%</span> <span class="fu">head</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co"># What are the dimensions of the dataframes?</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>df_forest_fires_bejaia <span class="sc">%&gt;%</span> <span class="fu">dim</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co"># What are the dimensions of the dataframes?</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>df_forest_fires_sidi <span class="sc">%&gt;%</span> <span class="fu">dim</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="what-we-want-from-you" class="level2">
<h2 class="anchored" data-anchor-id="what-we-want-from-you">What we want from you</h2>
<p>You <strong>main goal</strong> will be to predict the occurrence of fires and understand what this ocurrence is associated with.</p>
<p>Next, you will go through a sequence of tasks. For each of them you are given a code cell where you are supposed to write solutions to the tasks.</p>
</section>
</section>
<section id="questions---part-i" class="level1">
<h1>ğŸ¯ Questions - Part I</h1>
<section id="q1.-fire-days" class="level2">
<h2 class="anchored" data-anchor-id="q1.-fire-days">Q1. Fire days</h2>
<p><strong>Using R, count the number of fire days observed in the two regions.</strong> (2 points)</p>
<ul>
<li>Bejaia region</li>
</ul>
<div class="sourceCode" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Replace this by your code</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>Sidi Bel-abbes region</li>
</ul>
<div class="sourceCode" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Replace this by your code</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="q2.-fire-days-in-common" class="level2">
<h2 class="anchored" data-anchor-id="q2.-fire-days-in-common">Q2. Fire days in common</h2>
<p><strong>Using R, calculate how many days of fire the two regions had in common, and explain how you calculated it.</strong> (3 points)</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Replace this by your code</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Explain what you did in the code above:</p>
<blockquote class="blockquote">
<p>Replace this with your text. Use multiple lines if needed.</p>
</blockquote>
</section>
<section id="q3.-exploratory-data-analysis---part-i" class="level2">
<h2 class="anchored" data-anchor-id="q3.-exploratory-data-analysis---part-i">Q3. Exploratory Data Analysis - Part I</h2>
<p><strong>Run the code below to look at the plot it produces. In your own words, explain what you see: what dataset was used in the plot, what are the variables in the X and Y axis and what do the colours mean?</strong> (2 points)</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>g <span class="ot">&lt;-</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>    (<span class="fu">ggplot</span>(df_forest_fires_bejaia,</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>            <span class="fu">aes</span>(<span class="at">x =</span> Temperature, <span class="at">y =</span> RH, <span class="at">colour =</span> Classes))</span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>        <span class="sc">+</span> <span class="fu">geom_point</span>(<span class="at">size =</span> <span class="dv">3</span>, <span class="at">alpha =</span> <span class="fl">0.6</span>)</span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>        <span class="co"># OPTIONAL: Customising the plot.</span></span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a>        <span class="co"># You can delete these lines below if you don't like the theme</span></span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Or you can choose other themes from</span></span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a>        <span class="co"># https://ggplot2.tidyverse.org/reference/ggtheme.html</span></span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a>        <span class="sc">+</span> <span class="fu">theme_bw</span>()</span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb13-12"><a href="#cb13-12" aria-hidden="true" tabindex="-1"></a>g</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<blockquote class="blockquote">
<p>Your text goes here</p>
</blockquote>
</section>
<section id="q4.-exploratory-data-analysis---part-ii" class="level2">
<h2 class="anchored" data-anchor-id="q4.-exploratory-data-analysis---part-ii">Q4. Exploratory Data Analysis - Part II</h2>
<p><strong>Now, create a scatterplot using any two predictors from the <em>Sidi Bel-abbes</em> region data. Colour the dots according to their <code>Classes</code></strong> (3 points)</p>
<p>You can use either base R or ggplot. <a href="#fn4" class="footnote-ref" id="fnref4" role="doc-noteref"><sup>4</sup></a></p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Your code here</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="q5.-exploratory-data-analysis---part-iii" class="level2">
<h2 class="anchored" data-anchor-id="q5.-exploratory-data-analysis---part-iii">Q5. Exploratory Data Analysis - Part III</h2>
<p><strong>Can you spot differences in the distributions of predictors between the two regions (<em>Sidi Bel-abbes</em> vs <em>Bejaia</em>)? Describe the differences for at least one variable. Write your response and provide evidence using R code. You could use, for example, cross-tabulation, descriptive statistics or visualisations to support your point.</strong> (8 points)</p>
<blockquote class="blockquote">
<p>Replace this with your text. Use multiple lines if needed.</p>
</blockquote>
<div class="sourceCode" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Your code here</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="questions---part-ii" class="level1">
<h1>ğŸ¯ Questions - Part II</h1>
<section id="q6.-logistic-regression-model" class="level2">
<h2 class="anchored" data-anchor-id="q6.-logistic-regression-model">Q6. Logistic Regression Model</h2>
<p><strong>Build a logistic regression model for the <em>Bejaia</em> dataset using THREE predictors to predict the ocurrence of fire (the <code>Classes</code> variable). You can also add interaction effects amongst these three predictors if you wish. Save it as a variable named <code>model</code> and use R to print its summary.</strong> (7 points)</p>
<p>ğŸ’¡ Tip: you might need to convert <code>Classes</code> to a <a href="https://r4ds.had.co.nz/factors.html">factor</a>.</p>
<p>ğŸ’¡ If you have questions about R programming or conceptual questions about logistic regression, itâ€™s ok to ask questions to teachers and colleagues. What you are not allowed to ask: things like â€œis my solution correct?â€ or â€œwhich variables did you use?â€, etc..</p>
<p>You can choose to print the summary using base R or any of the functions from the <a href="https://broom.tidymodels.org/"><code>broom</code> package</a> (part of <code>tidymodels</code>).</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Your code here</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a><span class="co"># If you won't answer this question, erase or comment out the line of code below. Otherwise, you will get an error when knitting this notebook.</span></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>model <span class="ot">&lt;-</span> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="q7.-logistic-regression-model---justification" class="level2">
<h2 class="anchored" data-anchor-id="q7.-logistic-regression-model---justification">Q7. Logistic Regression Model - Justification</h2>
<p><strong>Provide a reasonable explanation for your choice of the three predictors in Q6. Why did you chose those variables?</strong> (10 points)</p>
<p>(Optional: add additional R code/visualisations that you feel might help support your answer)</p>
<blockquote class="blockquote">
<p>Replace this with your text. Use multiple lines if needed.</p>
</blockquote>
</section>
<section id="q8.-logistic-regression-model---diagnostics" class="level2">
<h2 class="anchored" data-anchor-id="q8.-logistic-regression-model---diagnostics">Q8. Logistic Regression Model - Diagnostics</h2>
<p><strong>Run the code below to look at the plot it produces. In your own words, explain what you see and what this plot tells you about your model.</strong> (8 points)</p>
<p><em>âš ï¸ If you didnâ€™t build a model in Q6, erase or comment out the block of code below. Otherwise, you will get an error when knitting this notebook.</em></p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>train_classes     <span class="ot">&lt;-</span> df_forest_fires_bejaia<span class="sc">$</span>Classes</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>train_predictions <span class="ot">&lt;-</span> <span class="fu">predict</span>(model, df_forest_fires_bejaia, <span class="at">type =</span> <span class="st">"response"</span>)</span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>plot_df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">train_classes     =</span> train_classes,</span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a>                      <span class="at">train_predictions =</span> train_predictions)</span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a>g <span class="ot">&lt;-</span></span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a>    (<span class="fu">ggplot</span>(plot_df, <span class="fu">aes</span>(<span class="at">x =</span> train_predictions, <span class="at">fill =</span> train_classes))</span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true" tabindex="-1"></a>        <span class="sc">+</span> <span class="fu">geom_histogram</span>(<span class="at">alpha =</span> <span class="fl">0.8</span>, <span class="at">binwidth =</span> <span class="fl">0.05</span>, <span class="at">position =</span> <span class="st">"stack"</span>)</span>
<span id="cb17-11"><a href="#cb17-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-12"><a href="#cb17-12" aria-hidden="true" tabindex="-1"></a>        <span class="co"># OPTIONAL: Customising the plot.</span></span>
<span id="cb17-13"><a href="#cb17-13" aria-hidden="true" tabindex="-1"></a>        <span class="co"># You can delete these lines below if you don't like the theme</span></span>
<span id="cb17-14"><a href="#cb17-14" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Or you can choose other themes from</span></span>
<span id="cb17-15"><a href="#cb17-15" aria-hidden="true" tabindex="-1"></a>        <span class="co"># https://ggplot2.tidyverse.org/reference/ggtheme.html</span></span>
<span id="cb17-16"><a href="#cb17-16" aria-hidden="true" tabindex="-1"></a>        <span class="sc">+</span> <span class="fu">theme_bw</span>()</span>
<span id="cb17-17"><a href="#cb17-17" aria-hidden="true" tabindex="-1"></a>        <span class="sc">+</span> <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Predictions on the training set"</span>,</span>
<span id="cb17-18"><a href="#cb17-18" aria-hidden="true" tabindex="-1"></a>               <span class="at">y =</span> <span class="st">"Count"</span>)</span>
<span id="cb17-19"><a href="#cb17-19" aria-hidden="true" tabindex="-1"></a>        <span class="sc">+</span> <span class="fu">scale_fill_brewer</span>(<span class="at">name =</span> <span class="st">"Target"</span>, <span class="at">type =</span> <span class="st">"qual"</span>, <span class="at">palette =</span> <span class="dv">2</span>)</span>
<span id="cb17-20"><a href="#cb17-20" aria-hidden="true" tabindex="-1"></a>        <span class="sc">+</span> <span class="fu">scale_x_continuous</span>(<span class="at">labels =</span> scales<span class="sc">::</span>percent, <span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">1</span>, <span class="fl">0.1</span>))</span>
<span id="cb17-21"><a href="#cb17-21" aria-hidden="true" tabindex="-1"></a>        <span class="sc">+</span> <span class="fu">ggtitle</span>(<span class="st">"Histogram of probability distributions fitted to the data"</span>)</span>
<span id="cb17-22"><a href="#cb17-22" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb17-23"><a href="#cb17-23" aria-hidden="true" tabindex="-1"></a>g</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<blockquote class="blockquote">
<p>Your text goes here</p>
</blockquote>
</section>
</section>
<section id="questions---part-iii" class="level1">
<h1>ğŸ¯ Questions - Part III</h1>
<p><strong>Here we will ask you to reflect on the threshold of your classification model.</strong></p>
<div style="display:inline-block;border-style: dotted;border-width: 1px;border-color: &quot;#fefefe&quot;; margin:1%;padding:1.5%;background-color:#fafafa">
<p>ğŸ’¡ <strong>TIPS</strong></p>
<ul>
<li>You might want to reuse the code of the notebook used in <a href="https://lse-dsi.github.io/lse-ds202-course-notes/weeks/week04/lecture.html#how-this-is-going-to-work">Week 04â€™s workshop</a> to calculate classification metrics for this question.</li>
<li>If you have questions about the code itself or conceptual questions about thresholds &amp; confusion matrices, itâ€™s ok to ask questions to teachers and colleagues.</li>
<li>What you are not allowed to ask: things like â€œis my solution correct?â€ or â€œwhat do you think of my solution?â€ or â€œwhich variables did you use?â€, etc..</li>
<li>For a more visual analysis of confusion matrix, you can alternatively use the function <code>plot_confusion_matrix</code> from package <code>cvms</code>. You can adapt the code from the notebook used in <a href="https://lse-dsi.github.io/lse-ds202-course-notes/weeks/week04/lecture.html#the-cross-validation-setup">Week 04â€™s workshop</a>.</li>
<li>Take a look at Chapter 21 of the <a href="https://r4ds.had.co.nz/iteration.html">R for Data Science</a> book to learn how to write <code>loops</code> (such as <code>for</code> loops, <code>seq</code>, <code>seq_along</code>).</li>
</ul>
</div>
<p><strong>First, take a look at the function below that will help you select a good threshold for your model.</strong></p>
<p>The function <code>apply_threshold</code> receives three arguments (<code>model</code>, <code>df</code> &amp; <code>threshold</code>) and returns a vector of predicted classes with the same length as there are observations in the dataframe <code>df</code>.</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>apply_threshold <span class="ot">&lt;-</span> <span class="cf">function</span>(model, df, threshold) {</span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>    pred_probs <span class="ot">&lt;-</span> <span class="fu">predict</span>(model, df, <span class="at">type =</span> <span class="st">"response"</span>)</span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a>    pred_classes <span class="ot">&lt;-</span> <span class="fu">factor</span>(<span class="fu">ifelse</span>(pred_probs <span class="sc">&lt;</span> threshold, <span class="st">"not fire"</span>, <span class="st">"fire"</span>),</span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a>                           <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"not fire"</span>, <span class="st">"fire"</span>),</span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a>                           <span class="at">ordered =</span> <span class="cn">TRUE</span>)</span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-10"><a href="#cb18-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">return</span>(pred_classes)</span>
<span id="cb18-11"><a href="#cb18-11" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<section id="q9.-logistic-regression-model---confusion-matrix" class="level2">
<h2 class="anchored" data-anchor-id="q9.-logistic-regression-model---confusion-matrix">Q9. Logistic Regression Model - Confusion Matrix</h2>
<p><strong>Run the code below to look at the table it produces. What does this table show and what does it tell you about your model?</strong> (3 points)</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>train_classes           <span class="ot">&lt;-</span> df_forest_fires_bejaia<span class="sc">$</span>Classes</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>train_class_predictions <span class="ot">&lt;-</span> <span class="fu">apply_threshold</span>(model, df_forest_fires_bejaia, <span class="at">threshold=</span><span class="fl">0.50</span>)</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>confusion_matrix <span class="ot">&lt;-</span> <span class="fu">table</span>(train_classes, train_class_predictions)</span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(confusion_matrix)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="q10.-logistic-regression-model---classification-metrics" class="level2">
<h2 class="anchored" data-anchor-id="q10.-logistic-regression-model---classification-metrics">Q10. Logistic Regression Model - Classification metrics</h2>
<p><strong>Now, consider three other options of threshold: <span class="math inline">\(t \in \{0.20, 0.40, 0.60\}\)</span>. Which of these three options lead to the <em>best</em> f1-score for your model? Write the R code for this and justify your answer.</strong> (7 points)</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Your code here</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<blockquote class="blockquote">
<p>Replace this with your text. Use multiple lines if needed.</p>
</blockquote>
</section>
<section id="q11.-logistic-regression-model---optimal-threshold-challenging" class="level2">
<h2 class="anchored" data-anchor-id="q11.-logistic-regression-model---optimal-threshold-challenging">Q11. Logistic Regression Model - Optimal Threshold (Challenging)</h2>
<p><strong>Now, consider another set of possible thresholds, <span class="math inline">\(t \in \{0.00, 0.01, 0.02, \ldots, 0.98, 0.99, 1.00\}\)</span>. Find the optimal threshold <span class="math inline">\(t^*\)</span>, the one that leads to the best f1-score. Write the R code for this and justify your answer.</strong> (12 points)</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Your code here</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<blockquote class="blockquote">
<p>Replace this with your text. Use multiple lines if needed.</p>
</blockquote>
</section>
</section>
<section id="questions---part-iv" class="level1">
<h1>ğŸ¯ Questions - Part IV</h1>
<section id="q12.-test-set-predictions" class="level2">
<h2 class="anchored" data-anchor-id="q12.-test-set-predictions">Q12. Test set predictions</h2>
<p><strong>Follow the instructions below to apply the model you trained in Q6 to predict the probability of forest fires in the <em>Sidi Bel-abbes</em> dataset and produce a plot similar to that of Q8.</strong> (7 points)</p>
<ul>
<li>Create a vector named <code>test_classes</code> that contains the true observed data (fire vs not fire) of <em>Sidi Bel-abbes</em> (You might need to convert it to <code>factor</code>)</li>
<li>Create a vector named <code>test_predictions</code> that contains the predict probability of forest fires in the <em>Sidi Bel-abbes</em> region</li>
<li>If the plot is produced and correct, you will get full marks. No need to justify the response.</li>
</ul>
<p><em>âš ï¸ If you donâ€™t want to answer this question, erase or comment out the block of code below. Otherwise, you will get an error when knitting this notebook.</em></p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Your code here</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>test_classes <span class="ot">&lt;-</span> </span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>test_predictions <span class="ot">&lt;-</span> </span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a>plot_df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">test_classes     =</span> test_classes,</span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a>                      <span class="at">test_predictions =</span> test_predictions)</span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a>g <span class="ot">&lt;-</span></span>
<span id="cb22-10"><a href="#cb22-10" aria-hidden="true" tabindex="-1"></a>    (<span class="fu">ggplot</span>(plot_df, <span class="fu">aes</span>(<span class="at">x =</span> test_predictions, <span class="at">fill =</span> test_classes))</span>
<span id="cb22-11"><a href="#cb22-11" aria-hidden="true" tabindex="-1"></a>        <span class="sc">+</span> <span class="fu">geom_histogram</span>(<span class="at">alpha =</span> <span class="fl">0.8</span>, <span class="at">binwidth =</span> <span class="fl">0.05</span>, <span class="at">position =</span> <span class="st">"stack"</span>)</span>
<span id="cb22-12"><a href="#cb22-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-13"><a href="#cb22-13" aria-hidden="true" tabindex="-1"></a>        <span class="co"># OPTIONAL: Customising the plot.</span></span>
<span id="cb22-14"><a href="#cb22-14" aria-hidden="true" tabindex="-1"></a>        <span class="co"># You can delete these lines below if you don't like the theme</span></span>
<span id="cb22-15"><a href="#cb22-15" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Or you can choose other themes from</span></span>
<span id="cb22-16"><a href="#cb22-16" aria-hidden="true" tabindex="-1"></a>        <span class="co"># https://ggplot2.tidyverse.org/reference/ggtheme.html</span></span>
<span id="cb22-17"><a href="#cb22-17" aria-hidden="true" tabindex="-1"></a>        <span class="sc">+</span> <span class="fu">theme_bw</span>()</span>
<span id="cb22-18"><a href="#cb22-18" aria-hidden="true" tabindex="-1"></a>        <span class="sc">+</span> <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Predictions on the test set"</span>,</span>
<span id="cb22-19"><a href="#cb22-19" aria-hidden="true" tabindex="-1"></a>               <span class="at">y =</span> <span class="st">"Count"</span>)</span>
<span id="cb22-20"><a href="#cb22-20" aria-hidden="true" tabindex="-1"></a>        <span class="sc">+</span> <span class="fu">scale_fill_brewer</span>(<span class="at">name =</span> <span class="st">"Target"</span>, <span class="at">type =</span> <span class="st">"qual"</span>, <span class="at">palette =</span> <span class="dv">2</span>)</span>
<span id="cb22-21"><a href="#cb22-21" aria-hidden="true" tabindex="-1"></a>        <span class="sc">+</span> <span class="fu">scale_x_continuous</span>(<span class="at">labels =</span> scales<span class="sc">::</span>percent, <span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">1</span>, <span class="fl">0.1</span>))</span>
<span id="cb22-22"><a href="#cb22-22" aria-hidden="true" tabindex="-1"></a>        <span class="sc">+</span> <span class="fu">ggtitle</span>(<span class="st">"Histogram of probability distributions when applied to Sidi Bel-abbes data"</span>)</span>
<span id="cb22-23"><a href="#cb22-23" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb22-24"><a href="#cb22-24" aria-hidden="true" tabindex="-1"></a>g</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="q13.-diagnostics" class="level2">
<h2 class="anchored" data-anchor-id="q13.-diagnostics">Q13. Diagnostics</h2>
<p><strong>Using the best threshold you found in either Q10 or Q11, write R code to produce a confusion matrix for the test set (<em>Sidi Bel-abbes</em> dataset). What is the True Positive Rate and True Negative Rate of your model in the test set? Did your model generalise well from the training to test set?</strong> (8 points)</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Your code here</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<blockquote class="blockquote">
<p>Replace this with your text. Use multiple lines if needed.</p>
</blockquote>
</section>
</section>
<section id="questions---part-v" class="level1">
<h1>ğŸ¯ Questions - Part V</h1>
<p><strong>Here we will ask you to build an alternative classification model, using an algorithm other than logistic regression.</strong></p>
<section id="q14.-alternative-models-challenging" class="level2">
<h2 class="anchored" data-anchor-id="q14.-alternative-models-challenging">Q14. Alternative Models (Challenging)</h2>
<p><strong>Follow the instructions below to build and explore an alternative classification model. Add as many chunks of code, text and equations as you prefer.</strong> (20 points)</p>
<ol type="1">
<li>Chose another algorithm (either <a href="https://lse-dsi.github.io/lse-ds202-course-notes/weeks/week04/lab.html#step-3-naive-bayes">Naive Bayes</a>, <a href="https://lse-dsi.github.io/lse-ds202-course-notes/weeks/week05/lecture.html">Decision Tree</a> or <a href="https://lse-dsi.github.io/lse-ds202-course-notes/weeks/week05/lecture.html">Support Vector Machine</a>) to build a new classification model.</li>
<li>Use the same training data you used to build your logistic regression in Q6 (<strong>same predictors</strong>)</li>
<li>If the algorithm requires a threshold, chose one that maximises the F1-score using the same logic as in Q10 or Q11.</li>
<li>Use the same test data you used to validate your logistic regression as in Q12</li>
<li>If the algorithm does not require a threshold, try to tweak the parameters of the algorithm so as to avoid <a href="https://lse-dsi.github.io/lse-ds202-course-notes/weeks/week05/lecture.html"><em>overfitting</em></a> the model.</li>
<li>Use whatever means you find appropriate (for example metrics, matrices, tables, plots) to compare your new model to the logistic model you built in the rest of this notebook.</li>
<li>Write about what you think makes your alternative model better/worse.</li>
<li>Provide the full R code you used to build and test your alternative model</li>
</ol>
<div style="display:inline-block;border-style: dotted;border-width: 1px;border-color: &quot;#fefefe&quot;; margin:1%;padding:1.5%;background-color:#fafafa">
<p>ğŸ’¡ <strong>TIPS</strong></p>
<ul>
<li>Use what you have learned about up until Week 05 (lecture)</li>
<li>Refer to your readings of the textbook if you want to understand more about how the alternative algorithms work. You can find links to the appropriate chapters <a href="https://lse-dsi.github.io/lse-ds202-course-notes/main/syllabus.html">here</a>.</li>
</ul>
</div>
<div class="sourceCode" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Your code here. Copy this chunk of code if you need.</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<blockquote class="blockquote">
<p>Replace this with your text. Use multiple lines if needed.</p>
</blockquote>
</section>
<section id="decompress" class="level2">
<h2 class="anchored" data-anchor-id="decompress">Decompress</h2>
<p>How do you plan to reward yourself for completing this problem set?</p>
<blockquote class="blockquote">
<p>&lt;<em>replace this text with your reward. A cookie? take X days off? etc.</em>&gt;</p>
</blockquote>


</section>
</section>


<div id="quarto-appendix" class="default"><section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes"><h2 class="anchored quarto-appendix-heading">Footnotes</h2>

<ol>
<li id="fn1"><p>https://math.meta.stackexchange.com/questions/5020/mathjax-basic-tutorial-and-quick-reference<a href="#fnref1" class="footnote-back" role="doc-backlink">â†©ï¸</a></p></li>
<li id="fn2"><p>Abid, Faroudja, and Nouma Izeboudjen. â€œPredicting forest fire in algeria using data mining techniques: Case study of the decision tree algorithm.â€ International Conference on Advanced Intelligent Systems for Sustainable Development. Springer, Cham, 2019.<a href="#fnref2" class="footnote-back" role="doc-backlink">â†©ï¸</a></p></li>
<li id="fn3"><p>Read more about Forest Fire Weather Index (FWI): https://www.wikiwand.com/en/Forest_fire_weather_index<a href="#fnref3" class="footnote-back" role="doc-backlink">â†©ï¸</a></p></li>
<li id="fn4"><p>Check out Chapter 3 of <a href="https://r4ds.had.co.nz/data-visualisation.html">R for Data Science</a> book (available online for free)<a href="#fnref4" class="footnote-back" role="doc-backlink">â†©ï¸</a></p></li>
</ol>
</section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  let localAlternateSentinel = 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "î§‹";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var filterRegex = new RegExp(/^(?:http:|https:)\/\/(?:lse-dsi\.github\.io\/|localhost)/);
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
    var links = window.document.querySelectorAll('a:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
          // target, if specified
          link.setAttribute("target", "_blank");
          // default icon
          link.classList.add("external");
      }
    }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">Copyright 2022, LSE Data Science Institute</div>   
    <div class="nav-footer-right">
      <ul class="footer-items list-unstyled">
    <li class="nav-item compact">
    <a class="nav-link" href="mailto:DSI.Admin@lse.ac.uk">
      <i class="bi bi-mailbox" role="img">
</i> 
    </a>
  </li>  
    <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com/lsedatascience">
      <i class="bi bi-twitter" role="img">
</i> 
    </a>
  </li>  
</ul>
    </div>
  </div>
</footer>



</body></html>