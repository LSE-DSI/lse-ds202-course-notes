<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.313">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Dr.&nbsp;Jon Cardoso-Silva">

<title>LSE DS202 2022/23 - âœ”ï¸ Summative Problem Set 02 | Solutions</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="..//figures/logos/LSE Data Science Institute.png" rel="icon" type="image/png">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>

  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<link rel="stylesheet" href="../css/custom_style.css">
</head>

<body class="nav-sidebar docked nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">LSE DS202 2022/23</span>
    </a>
  </div>
          <div class="quarto-toggle-container ms-auto">
              <a href="" class="quarto-color-scheme-toggle nav-link" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
              <a href="" class="quarto-reader-toggle nav-link" onclick="window.quartoToggleReader(); return false;" title="Toggle reader mode">
  <div class="quarto-reader-toggle-btn">
  <i class="bi"></i>
  </div>
</a>
          </div>
          <div id="quarto-search" class="" title="Search"></div>
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
    <div class="container-fluid d-flex justify-content-between">
      <h1 class="quarto-secondary-nav-title">âœ”ï¸ Summative Problem Set 02 | Solutions</h1>
      <button type="button" class="quarto-btn-toggle btn" aria-label="Show secondary navigation">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation docked overflow-auto">
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.html" class="sidebar-item-text sidebar-link">ğŸ  Home</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../main/syllabus.html" class="sidebar-item-text sidebar-link">ğŸ““ Syllabus</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../main/communication.html" class="sidebar-item-text sidebar-link">ğŸ“Ÿ Communication</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../main/assessments.html" class="sidebar-item-text sidebar-link">âœï¸ Assessments</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../main/courserep.html" class="sidebar-item-text sidebar-link">ğŸ—³ï¸ Course Rep</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../blog/main.html" class="sidebar-item-text sidebar-link">ğŸ“š Blog</a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">ğŸ—“ï¸ Weeks</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../weeks/week01.html" class="sidebar-item-text sidebar-link">Week 01</a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#" aria-expanded="false">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../weeks/week01/lecture.html" class="sidebar-item-text sidebar-link">ğŸ‘¨â€ğŸ« Lecture Slides</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../weeks/week01/prep.html" class="sidebar-item-text sidebar-link">ğŸ“’ Prepare for next weekâ€™s lab</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../weeks/week01/appendix.html" class="sidebar-item-text sidebar-link">ğŸ”– Appendix</a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../weeks/week02.html" class="sidebar-item-text sidebar-link">Week 02</a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#" aria-expanded="false">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../weeks/week02/lecture.html" class="sidebar-item-text sidebar-link">ğŸ‘¨â€ğŸ« Lecture Slides</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../weeks/week02/checklist.html" class="sidebar-item-text sidebar-link">âœ… Checklist</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../weeks/week02/lab.html" class="sidebar-item-text sidebar-link">ğŸ’» Lab roadmap</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../weeks/week02/lab_solutions.html" class="sidebar-item-text sidebar-link">âœ”ï¸ Lab solutions</a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../weeks/week03.html" class="sidebar-item-text sidebar-link">Week 03</a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#" aria-expanded="false">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../weeks/week03/lecture.html" class="sidebar-item-text sidebar-link">ğŸ‘¨â€ğŸ« Lecture Slides</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../weeks/week03/checklist.html" class="sidebar-item-text sidebar-link">âœ… Checklist</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../weeks/week03/lab.html" class="sidebar-item-text sidebar-link">ğŸ’» Lab roadmap</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../weeks/week03/lab_solutions.html" class="sidebar-item-text sidebar-link">âœ”ï¸ Lab solutions</a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../weeks/week04.html" class="sidebar-item-text sidebar-link">Week 04</a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#" aria-expanded="false">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../weeks/week04/lecture.html" class="sidebar-item-text sidebar-link">ğŸ‘¨â€ğŸ« Lecture</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../weeks/week04/checklist.html" class="sidebar-item-text sidebar-link">âœ… Checklist</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../weeks/week04/lab.html" class="sidebar-item-text sidebar-link">ğŸ’» Lab roadmap</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../weeks/week04/lab_solutions.html" class="sidebar-item-text sidebar-link">âœ”ï¸ Lab solutions</a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../weeks/week05.html" class="sidebar-item-text sidebar-link">Week 05</a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#" aria-expanded="false">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../weeks/week05/lecture.html" class="sidebar-item-text sidebar-link">ğŸ‘¨â€ğŸ« Lecture</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../weeks/week05/checklist.html" class="sidebar-item-text sidebar-link">âœ… Checklist</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../weeks/week05/lab.html" class="sidebar-item-text sidebar-link">ğŸ’» Lab roadmap</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../weeks/week05/lab_solutions.html" class="sidebar-item-text sidebar-link">âœ”ï¸ Lab solutions</a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../weeks/week06.html" class="sidebar-item-text sidebar-link">Week 06</a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#" aria-expanded="false">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../weeks/week06/checklist.html" class="sidebar-item-text sidebar-link">âœ… Checklist</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../weeks/week06/drop_in_jon.html" class="sidebar-item-text sidebar-link">ğŸ’» Drop-in Session 01</a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../weeks/week07.html" class="sidebar-item-text sidebar-link">Week 07</a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#" aria-expanded="false">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../weeks/week07/lecture.html" class="sidebar-item-text sidebar-link">ğŸ‘¨â€ğŸ« Lecture</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../weeks/week07/checklist.html" class="sidebar-item-text sidebar-link">âœ… Checklist</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../weeks/week07/lab.html" class="sidebar-item-text sidebar-link">ğŸ’» Lab roadmap</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../weeks/week07/lab_solutions.html" class="sidebar-item-text sidebar-link">âœ”ï¸ Lab solutions</a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../weeks/week08.html" class="sidebar-item-text sidebar-link">Week 08</a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#" aria-expanded="false">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../weeks/week08/lecture.html" class="sidebar-item-text sidebar-link">ğŸ‘¨â€ğŸ« Lecture</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../weeks/week08/checklist.html" class="sidebar-item-text sidebar-link">âœ… Checklist</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../weeks/week08/lab.html" class="sidebar-item-text sidebar-link">ğŸ’» Lab roadmap</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../weeks/week08/lab_advanced.html" class="sidebar-item-text sidebar-link">âœ¨ Bonus Lab (Optional)</a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../weeks/week09.html" class="sidebar-item-text sidebar-link">Week 09</a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#" aria-expanded="false">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../weeks/week09/lecture.html" class="sidebar-item-text sidebar-link">ğŸ‘¨â€ğŸ« Lecture</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../weeks/week09/checklist.html" class="sidebar-item-text sidebar-link">âœ… Checklist</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../weeks/week09/lab.html" class="sidebar-item-text sidebar-link">ğŸ’» Lab roadmap</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../weeks/week09/appendix.html" class="sidebar-item-text sidebar-link">ğŸ”– Appendix</a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../weeks/week10.html" class="sidebar-item-text sidebar-link">Week 10</a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#" aria-expanded="false">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../weeks/week10/lecture.html" class="sidebar-item-text sidebar-link">ğŸ‘¨â€ğŸ« Lecture</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../weeks/week10/checklist.html" class="sidebar-item-text sidebar-link">âœ… Checklist</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../weeks/week10/lab.html" class="sidebar-item-text sidebar-link">ğŸ’» Lab roadmap</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../weeks/week10/bonus.html" class="sidebar-item-text sidebar-link">âœ¨ Bonus Lab (Optional)</a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../weeks/week11.html" class="sidebar-item-text sidebar-link">Week 11</a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#" aria-expanded="false">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../weeks/week11/checklist.html" class="sidebar-item-text sidebar-link">âœ… Checklist</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../weeks/week11/lab.html" class="sidebar-item-text sidebar-link">ğŸ’» Lab roadmap</a>
  </div>
</li>
      </ul>
  </li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar"><div class="quarto-margin-header"><div class="margin-header-item">
<p><img src="../figures/logos/LSE Data Science Institute.png" class="img-fluid"></p>
</div></div>
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#setup" id="toc-setup" class="nav-link active" data-scroll-target="#setup">âš™ï¸ Setup</a></li>
  <li><a href="#questions" id="toc-questions" class="nav-link" data-scroll-target="#questions">ğŸ¯ Questions</a>
  <ul class="collapse">
  <li><a href="#q1.-understanding-the-data-10-points" id="toc-q1.-understanding-the-data-10-points" class="nav-link" data-scroll-target="#q1.-understanding-the-data-10-points">Q1. Understanding the Data (10 points)</a></li>
  <li><a href="#q2.-time-for-decision-tree-20-points" id="toc-q2.-time-for-decision-tree-20-points" class="nav-link" data-scroll-target="#q2.-time-for-decision-tree-20-points">Q2. Time for Decision Tree (20 points)</a></li>
  <li><a href="#q3.-predictions-on-the-same-data-5-points" id="toc-q3.-predictions-on-the-same-data-5-points" class="nav-link" data-scroll-target="#q3.-predictions-on-the-same-data-5-points">Q3. Predictions on the same data (5 points)</a></li>
  <li><a href="#q4.-goodness-of-fit-metric-5-points" id="toc-q4.-goodness-of-fit-metric-5-points" class="nav-link" data-scroll-target="#q4.-goodness-of-fit-metric-5-points">Q4. Goodness-of-fit: Metric (5 points)</a></li>
  <li><a href="#q5.-tweak-the-decision-tree-10-points" id="toc-q5.-tweak-the-decision-tree-10-points" class="nav-link" data-scroll-target="#q5.-tweak-the-decision-tree-10-points">Q5. Tweak the decision tree (10 points)</a></li>
  <li><a href="#q6.-support-vector-machines-20-points" id="toc-q6.-support-vector-machines-20-points" class="nav-link" data-scroll-target="#q6.-support-vector-machines-20-points">Q6. Support Vector Machines (20 points)</a></li>
  <li><a href="#q7.-tweaking-the-svm-15-points" id="toc-q7.-tweaking-the-svm-15-points" class="nav-link" data-scroll-target="#q7.-tweaking-the-svm-15-points">Q7. Tweaking the SVM (15 points)</a></li>
  <li><a href="#q8." id="toc-q8." class="nav-link" data-scroll-target="#q8.">Q8.</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title d-none d-lg-block">âœ”ï¸ Summative Problem Set 02 | Solutions</h1>
<p class="subtitle lead">DS202 - Data Science for Social Scientists</p>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Dr.&nbsp;Jon Cardoso-Silva </p>
          </div>
  </div>
    
  
    
  </div>
  

</header>

<p>Here you will find model solutions to the <a href="../assessments/summative2.html">second Summative Problem Set</a> of DS202 (2022/23).</p>
<blockquote class="blockquote">
<p>ğŸ¥‡ It is not uncommon that we are more pleased with solutions provided by the students than the template ones we created. The solutions on this page were compiled from studentsâ€™ submissions and shared here with their permission.</p>
</blockquote>
<div class="cell">

</div>
<details>
<summary>
Import packages
</summary>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidymodels)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(GGally)</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggsci)</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(cvms)</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(rpart)</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(rpart.plot)</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(kernlab)</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="co"># If you decide to use other packages, add them here</span></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggcorrplot)</span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ISLR2)</span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(rsample)</span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(broom)</span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(e1071)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</details>
<div class="cell">

</div>
<div class="cell">

</div>
<section id="setup" class="level1">
<h1>âš™ï¸ Setup</h1>
<p>Let us take a quick look at the format of the <code>df_filtered</code> data frame that one would see after setting up the variables above:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(df_filtered <span class="sc">%&gt;%</span> <span class="fu">head</span>(<span class="dv">6</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table table-sm table-striped">
<colgroup>
<col style="width: 25%">
<col style="width: 27%">
<col style="width: 12%">
<col style="width: 34%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: right;">accident_severity</th>
<th style="text-align: right;">number_of_vehicles</th>
<th style="text-align: right;">CriScore</th>
<th style="text-align: right;">road_surface_conditions</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">2</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">0.755</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="even">
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.755</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="odd">
<td style="text-align: right;">2</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">-0.211</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="even">
<td style="text-align: right;">1</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">-0.211</td>
<td style="text-align: right;">2</td>
</tr>
<tr class="odd">
<td style="text-align: right;">1</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">-0.211</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="even">
<td style="text-align: right;">1</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">-0.211</td>
<td style="text-align: right;">1</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>This student cared to filter the data frame to keep only rows with valid values for the predictors based on the information provided in the data dictionary. This is a good practice, and we will do the same in the following:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Function `all_of` just simply converts your custom variables, </span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="co">#   which are strings, into tidyverse column names</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>df_filtered <span class="ot">&lt;-</span> </span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>  df_filtered <span class="sc">%&gt;%</span> </span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">between</span>(road_surface_conditions,<span class="dv">1</span>,<span class="dv">7</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(number_of_vehicles <span class="sc">&gt;=</span> <span class="dv">0</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">between</span>(accident_severity,<span class="dv">1</span>,<span class="dv">3</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(CriScore <span class="sc">&gt;=</span> <span class="dv">0</span>)</span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(df_filtered <span class="sc">%&gt;%</span> <span class="fu">head</span>(<span class="dv">6</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table table-sm table-striped">
<colgroup>
<col style="width: 25%">
<col style="width: 27%">
<col style="width: 12%">
<col style="width: 34%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: right;">accident_severity</th>
<th style="text-align: right;">number_of_vehicles</th>
<th style="text-align: right;">CriScore</th>
<th style="text-align: right;">road_surface_conditions</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">2</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">0.755</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="even">
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.755</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="odd">
<td style="text-align: right;">1</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">1.799</td>
<td style="text-align: right;">2</td>
</tr>
<tr class="even">
<td style="text-align: right;">1</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">1.799</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="odd">
<td style="text-align: right;">1</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">1.799</td>
<td style="text-align: right;">2</td>
</tr>
<tr class="even">
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1.799</td>
<td style="text-align: right;">2</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="questions" class="level1">
<h1>ğŸ¯ Questions</h1>
<section id="q1.-understanding-the-data-10-points" class="level2">
<h2 class="anchored" data-anchor-id="q1.-understanding-the-data-10-points">Q1. Understanding the Data (10 points)</h2>
<div class="cell">
<div class="cell-output-display">
<p><img src="summative2_solutions_files/figure-html/unnamed-chunk-7-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p><strong>Additional info we liked:</strong> On top of analysing the plots we provided, some students produced custom-made ones to investigate the correlations more closely. Usually, additional plots are unnecessary, but these helped them articulate their points better and were great additions to their responses. Mixed with model solutions, I include a few (adapted) examples of the plots that students produced.</p>
<p><strong>Plot 1</strong></p>
<blockquote class="blockquote">
<p>The first plot in this image should be a density plot of accident severity. However, there is likely a bug in the library affecting the y-axis. The scale only goes up to 6, and a density plot should have an area under the curve that adds up to 1.</p>
</blockquote>
<blockquote class="blockquote">
<p>Here is a histogram instead:</p>
</blockquote>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>plot_df <span class="ot">&lt;-</span> df_filtered <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(accident_severity) <span class="sc">%&gt;%</span> <span class="fu">tally</span>()</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(plot_df, <span class="fu">aes</span>(<span class="at">x=</span> accident_severity, <span class="at">y=</span>n)) <span class="sc">+</span> </span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="at">width =</span> <span class="dv">1</span>, <span class="at">color=</span><span class="st">"darkblue"</span>, <span class="at">fill=</span><span class="st">"lightblue"</span>) <span class="sc">+</span> </span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label =</span>n), <span class="at">vjust=</span><span class="sc">-</span><span class="fl">0.35</span>) <span class="sc">+</span></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Histogram of the target variable"</span>, </span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Accident severity"</span>, <span class="at">y =</span> <span class="st">"Count"</span>) <span class="sc">+</span></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="summative2_solutions_files/figure-html/unnamed-chunk-8-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<blockquote class="blockquote">
<p>I created a histogram of accident severity to check the results of the first plot. Most of the data has an accident severity of 1; followed by a significantly lower amount of data with <code>accident_severity</code> of 2; and finally, a small amount of <code>accident_severity</code> 3. This aligns with the density plot in the image, so the plot is relatively accurate, but the histogram helps to understand the data with a bit more clarity. For example, in the first plot, we see no bump for accident_severity = 3, indicating that no accidents had a severity of 3. But the histogram shows that, in fact, some accidents did have a severity of 3, though these were very underrepresented in the data.</p>
</blockquote>
<p>For the rest of your response, you would comment on the top rowâ€™s remaining three box panels. All you had to do was state which variables the correlation text referred to and whether the correlation was positive or negative. This was straightforward, and pretty much everyone answered that correctly.</p>
<p>One extra additional plot I have seen and liked was of a correlation matrix with just the selected variables:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>corr <span class="ot">&lt;-</span> <span class="fu">cor</span>(df_filtered)</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggcorrplot</span>(corr, <span class="at">lab=</span><span class="cn">TRUE</span>, <span class="at">digits=</span><span class="dv">2</span>, <span class="at">lab_size=</span><span class="dv">3</span>) <span class="sc">+</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Correlation matrix of selected variables"</span>, </span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Predictors"</span>, <span class="at">y =</span> <span class="st">"Predictors"</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="summative2_solutions_files/figure-html/unnamed-chunk-9-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>This helps us see that the variables were very much useless on their own. All correlations are close to zero, indicating that we will not likely get a very good model with just these three variables.</p>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-1-contents" aria-controls="callout-1" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
ğŸ“ Note
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-1" class="callout-1-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p><em>Although this might be a little frustrating, it is an excellent example of what you would encounter in a real-life setting. You will not always get beautiful correlations in real data. Also, this shouldnâ€™t stop you from completing the rest of the problem set. This assignment tests your judgment of models (good or bad) and whether you can identify and point out the problem.</em></p>
<p>ğŸ¤” <strong>Question:</strong> If we had not restricted you to the variables above, would you be able to get a better model? Why or why not?</p>
</div>
</div>
</div>
</section>
<section id="q2.-time-for-decision-tree-20-points" class="level2">
<h2 class="anchored" data-anchor-id="q2.-time-for-decision-tree-20-points">Q2. Time for Decision Tree (20 points)</h2>
<div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-1-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-1" role="tab" aria-controls="tabset-1-1" aria-selected="true" aria-current="page">Regression case</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-2" role="tab" aria-controls="tabset-1-2" aria-selected="false">Classification case</a></li></ul>
<div class="tab-content">
<div id="tabset-1-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-1-1-tab">
<div class="cell">
<div class="cell-output-display">
<p><img src="summative2_solutions_files/figure-html/unnamed-chunk-10-1.png" class="img-fluid" width="1400"></p>
</div>
</div>
<blockquote class="blockquote">
<p>I chose to describe the outer-left part of the decision tree. The tree starts with the root node containing <span class="math inline">\(100\%\)</span> of the data, with an average prediction of an accident severity of <span class="math inline">\(1.176\)</span>, so slight (<span class="math inline">\(1\)</span>) to severe (<span class="math inline">\(2\)</span>), strongly leaning towards â€œslight.â€</p>
<p>Then, the tree branches into two decision nodes depending on whether the <code>number_of_vehicles</code> involved in the incident was equal to or bigger than <span class="math inline">\(1.5\)</span> (<em>in effect, this measures whether two or more vehicles were involved</em>).</p>
<p>In <span class="math inline">\(\approx 91\%\)</span> of these cases, this was true, leading us to our next decision node of focus: a decision node containing <span class="math inline">\(\approx 91\%\)</span> of the overall data with a prediction of accident severity around <span class="math inline">\(1.166\)</span>. This decision node further splits according to the <code>number_of_vehicles_</code> in the incident. The test is whether <code>number_of_vehicles</code> is smaller than <span class="math inline">\(2.5\)</span>, in effect splitting the decision tree into cases where two vehicles were involved (left) versus those involving three or more (right).</p>
<p>Once again, going with <strong>â€œyesâ€</strong>, we arrive at another decision node, containing <span class="math inline">\(89\%\)</span> of the data, but still predicting a similar accident severity as the previous decision node and the root node, of <span class="math inline">\(\approx 1.2\)</span>. Here, the split is according to the <code>road_surface_conditions</code> and whether they were bigger than or equal to <span class="math inline">\(1.5\)</span>. Looking back at the data dictionary, we see that the severity of negative (â€˜badâ€™) road conditions increases with the number associated with this variable:</p>
<ul>
<li><code>road_surface_conditions=1</code>: corresponds to <strong>â€œdryâ€</strong></li>
<li><code>road_surface_conditions=2</code>: corresponds to <strong>â€œwet or dampâ€</strong> and,</li>
<li><code>road_surface_conditions=3</code>: corresponds to <strong>â€œsnowâ€</strong> .</li>
</ul>
<p>Therefore, a score of 1.5 or bigger indicates road conditions that are not dry.</p>
<p>Going with <strong>â€œyesâ€</strong> once again, we have reached our decision treeâ€™s terminal, or leaf, node. Here, <span class="math inline">\(\approx 16\%\)</span> of the data is left, with an accident severity score this time deviating slightly from the ones we had before, predicting <code>accident_severity= 1.14</code>.</p>
<p>It is interesting that the accident severity score slightly decreases, even though the road surface conditions worsen (with scores equal to or above <span class="math inline">\(1.5\)</span>). However, seeing that, for instance, <span class="math inline">\(72\%\)</span> of accidents did happen with road conditions similar to â€œdry,â€ it might just mean that the vast majority of accidents and beyond happened there, meaning that the likelihood of a distribution of high and low accident severity all accumulates under these conditions, bringing the average up due to a large amount of data.</p>
</blockquote>
<p><strong>Going one step further: decision trees are also good for exploratory analysis</strong></p>
<p>If you look closer at the tree, you will see that:</p>
<ul>
<li><span class="math inline">\(\approx 88.51\%\)</span> of the accidents involve exactly two vehicles (<span class="math inline">\(16.33\% + 72.18\%\)</span>)</li>
<li><span class="math inline">\(\approx 2.47\%\)</span> of the accidents involve more than two vehicles (<span class="math inline">\(2.03\% + 0.28\% + 0.16\%\)</span>), and those have a higher mean <code>accident_severity</code> than the cases with exactly two vehicles (note the mean regression values in the leaf nodes).</li>
<li>The remaining <span class="math inline">\(9.02\%\)</span> of the accidents involve only one vehicle; although rarer, they have higher mean <code>accident_severity</code> than the left-most branches of the tree.</li>
</ul>
</div>
<div id="tabset-1-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-2-tab">
<p>Using the same predictors and <code>cp</code> value but just changing the target variable to <code>is_grave_accident</code>, and making it a classification task, we would get the tree below:</p>
<div class="cell">
<div class="cell-output-display">
<p><img src="summative2_solutions_files/figure-html/unnamed-chunk-11-1.png" class="img-fluid" width="1400"></p>
</div>
</div>
<p>The description of the tree should be fairly similar to the regression case, so I will not replicate it here.</p>
</div>
</div>
</div>
<p>ğŸ’¡: <em>All of the text formatting above (<strong>bold</strong>, <em>italic</em>, <code>code</code>, <span class="math inline">\(100\% \text{ of equations}\)</span>), was done using <a href="https://github.com/adam-p/markdown-here/wiki/Markdown-Cheatsheet">markdown</a>.</em></p>
</section>
<section id="q3.-predictions-on-the-same-data-5-points" class="level2">
<h2 class="anchored" data-anchor-id="q3.-predictions-on-the-same-data-5-points">Q3. Predictions on the same data (5 points)</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>df_filtered_augmented <span class="ot">&lt;-</span> <span class="fu">augment</span>(dt_model, df_filtered)</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(df_filtered_augmented <span class="sc">%&gt;%</span> <span class="fu">head</span>(<span class="dv">10</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table table-sm table-striped">
<colgroup>
<col style="width: 20%">
<col style="width: 21%">
<col style="width: 10%">
<col style="width: 26%">
<col style="width: 10%">
<col style="width: 12%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: right;">accident_severity</th>
<th style="text-align: right;">number_of_vehicles</th>
<th style="text-align: right;">CriScore</th>
<th style="text-align: right;">road_surface_conditions</th>
<th style="text-align: right;">.pred</th>
<th style="text-align: right;">.resid</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">2</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">0.755</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1.167544</td>
<td style="text-align: right;">0.8324561</td>
</tr>
<tr class="even">
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.755</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1.256303</td>
<td style="text-align: right;">-0.2563025</td>
</tr>
<tr class="odd">
<td style="text-align: right;">1</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">1.799</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">1.140474</td>
<td style="text-align: right;">-0.1404741</td>
</tr>
<tr class="even">
<td style="text-align: right;">1</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">1.799</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1.167544</td>
<td style="text-align: right;">-0.1675439</td>
</tr>
<tr class="odd">
<td style="text-align: right;">1</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">1.799</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">1.140474</td>
<td style="text-align: right;">-0.1404741</td>
</tr>
<tr class="even">
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1.799</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">1.415584</td>
<td style="text-align: right;">-0.4155844</td>
</tr>
<tr class="odd">
<td style="text-align: right;">1</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">1.799</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">1.140474</td>
<td style="text-align: right;">-0.1404741</td>
</tr>
<tr class="even">
<td style="text-align: right;">1</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">1.799</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1.167544</td>
<td style="text-align: right;">-0.1675439</td>
</tr>
<tr class="odd">
<td style="text-align: right;">1</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">1.799</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">1.140474</td>
<td style="text-align: right;">-0.1404741</td>
</tr>
<tr class="even">
<td style="text-align: right;">1</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">1.799</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1.256410</td>
<td style="text-align: right;">-0.2564103</td>
</tr>
</tbody>
</table>
</div>
</div>
<blockquote class="blockquote">
<p>The new data frame <code>df_filtered_augmented</code> has the same number of rows (i.e., observations) as the previous data frame <code>df_filtered</code>, but it has two additional columns. As can be seen by the output of the <code>dim</code> function: <code>df_filtered</code> has four columns while <code>df_filtered_augmented</code> has a size of six.</p>
<p>The new columns are called <code>.pred</code> and <code>.resid</code> and respectively represent the predictions made by the decision tree model regarding the outcome variable accident severity and the residuals of these predictions. For every row, thus every observation in the data set, the decision tree predicts the value of accident severity (shown in the column <code>.pred</code>), given the tree-based model with three predictors. It also indicates a residual for that prediction (i.e., the difference between the actual value of accident severity observed in the original data set and the predicted value).</p>
<p>The formula for the residual can be seen below:</p>
<p><span class="math display">\[Residual=AccidentSeverityâˆ’Prediction\]</span></p>
<p>Therefore, the smaller the residual (i.e., the closest to zero), the closer the prediction made is to the actual value of accident severity. Thus residuals are also used as a measure for the goodness of fit of a model to the data.</p>
</blockquote>
</section>
<section id="q4.-goodness-of-fit-metric-5-points" class="level2">
<h2 class="anchored" data-anchor-id="q4.-goodness-of-fit-metric-5-points">Q4. Goodness-of-fit: Metric (5 points)</h2>
<p>This one is pretty easy; you just need to fill in with <code>accident_severity</code> (if regression) or <code>is_grave_accident</code> (if classification) and <code>.pred</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>df_filtered_augmented <span class="sc">%&gt;%</span> <span class="fu">metric_fn</span>(accident_severity, .pred)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 Ã— 3
  .metric .estimator .estimate
  &lt;chr&gt;   &lt;chr&gt;          &lt;dbl&gt;
1 mae     standard       0.286</code></pre>
</div>
</div>
</section>
<section id="q5.-tweak-the-decision-tree-10-points" class="level2">
<h2 class="anchored" data-anchor-id="q5.-tweak-the-decision-tree-10-points">Q5. Tweak the decision tree (10 points)</h2>
<p>Regardless of whether your task was regression or classification, you likely saw a decision tree that looks like the following:</p>
<div class="cell">
<div class="cell-output-display">
<p><img src="summative2_solutions_files/figure-html/unnamed-chunk-14-1.png" class="img-fluid" width="1400"></p>
</div>
</div>
<p>An example of response is the following:</p>
<blockquote class="blockquote">
<p>The <code>cp</code>-value, or complexity parameter, is the minimum improvement the model needs to gain from each extra node and can therefore be taken as a cut-off value deciding whether extra nodes will be allowed and produced.</p>
<p>By making the value a million times smaller, the improvement to the model needed to justify extra nodes is much, much smaller than before, resulting in a far larger and more complex decision tree.</p>
<p>This decision tree shows clear signs of overfitting. It is extremely complex and detailed, but to an extent where the explanatory power is overshadowed by the complexity and unnecessarily huge size of the decision tree. This tree might be ideal when testing the model on the training data, as its explanatory power is super high and detailed, with the incredibly large number of decision nodes and leaves it contains. However, when testing any test data, this decision tree as a model might be far too detailed that it likely wonâ€™t apply to much other data apart from the training set.</p>
<p><strong><em>However, to conclude that it is indeed overfitting, we would need to split the data into training and test set, or via cross-validation, and compare both models in their abilities to fit the training vs.&nbsp;predict the test data.</em></strong></p>
</blockquote>
<p>(ğŸ’¡ Many of you overlooked that although the new tree is likely overfitting, we still need to test it on a test set to be sure.)</p>
</section>
<section id="q6.-support-vector-machines-20-points" class="level2">
<h2 class="anchored" data-anchor-id="q6.-support-vector-machines-20-points">Q6. Support Vector Machines (20 points)</h2>
<p>You were first asked to run the code below:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>svm_model <span class="ot">&lt;-</span> </span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">svm_rbf</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">set_mode</span>(<span class="fu">str_to_lower</span>(task_type)) <span class="sc">%&gt;%</span> </span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">fit</span>(<span class="fu">as.formula</span>(formula_str), <span class="at">data=</span>df_filtered)</span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>df_filtered_augmented2 <span class="ot">&lt;-</span> <span class="fu">augment</span>(svm_model, df_filtered)</span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>df_filtered_augmented2 <span class="sc">%&gt;%</span> <span class="fu">metric_fn</span>(accident_severity, .pred)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 Ã— 3
  .metric .estimator .estimate
  &lt;chr&gt;   &lt;chr&gt;          &lt;dbl&gt;
1 mae     standard       0.200</code></pre>
</div>
</div>
<p>To which you could have responded something like:</p>
<blockquote class="blockquote">
<p>The Mean Absolute Error (MAE) represents the mean of the absolute error rates. This SVM model generated an MAE score of <span class="math inline">\(0.200\)</span>, which means that the average error rate of the predictions made by the model was <span class="math inline">\(0.2\)</span>. The other model, the Decision Tree model, computed a score of <span class="math inline">\(\operatorname{MAE} = 0.286\)</span> (as seen in Question 4), slightly worse.</p>
<p>Furthermore, one can compare the two metrics by looking at the residual distribution plots, which also show that the spread of residuals seems bigger in the Decision Tree model compared to the SVM one, where the outputs seem more condensed:</p>
</blockquote>
<div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-2-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-1" role="tab" aria-controls="tabset-2-1" aria-selected="true">Decision Tree residuals</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-2" role="tab" aria-controls="tabset-2-2" aria-selected="false">SVM residuals</a></li></ul>
<div class="tab-content">
<div id="tabset-2-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-2-1-tab">
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>plot_df1 <span class="ot">&lt;-</span> </span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">augment</span>(dt_model, df_filtered) <span class="sc">%&gt;%</span> </span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">row_number=</span><span class="fu">row_number</span>()) </span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>g1 <span class="ot">&lt;-</span> (</span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(plot_df1, <span class="fu">aes</span>(<span class="at">x=</span>row_number, <span class="at">y=</span>.resid))</span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>  <span class="sc">+</span> <span class="fu">geom_point</span>(<span class="at">alpha=</span><span class="fl">0.6</span>)</span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a>  <span class="sc">+</span> <span class="fu">theme_bw</span>()</span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a>  <span class="sc">+</span> <span class="fu">geom_hline</span>(<span class="at">yintercept =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="fl">2.5</span>,<span class="fl">2.5</span>), <span class="at">color=</span><span class="st">"pink"</span>, <span class="at">linetype=</span><span class="st">"dashed"</span>)</span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a>  <span class="sc">+</span> <span class="fu">labs</span>(<span class="at">title=</span><span class="st">"Residual Distribution Plot of the SVM Model"</span>)</span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a>g1</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="summative2_solutions_files/figure-html/unnamed-chunk-16-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</div>
<div id="tabset-2-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-2-tab">
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>plot_df1 <span class="ot">&lt;-</span> </span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">augment</span>(svm_model, df_filtered) <span class="sc">%&gt;%</span> </span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">row_number=</span><span class="fu">row_number</span>()) </span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>g1 <span class="ot">&lt;-</span> (</span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(plot_df1, <span class="fu">aes</span>(<span class="at">x=</span>row_number, <span class="at">y=</span>.resid))</span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a>  <span class="sc">+</span> <span class="fu">geom_point</span>(<span class="at">alpha=</span><span class="fl">0.6</span>)</span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a>  <span class="sc">+</span> <span class="fu">theme_bw</span>()</span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a>  <span class="sc">+</span> <span class="fu">geom_hline</span>(<span class="at">yintercept =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="fl">2.5</span>,<span class="fl">2.5</span>), <span class="at">color=</span><span class="st">"pink"</span>, <span class="at">linetype=</span><span class="st">"dashed"</span>)</span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a>  <span class="sc">+</span> <span class="fu">labs</span>(<span class="at">title=</span><span class="st">"Residual Distribution Plot of the SVM Model"</span>)</span>
<span id="cb12-12"><a href="#cb12-12" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb12-13"><a href="#cb12-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-14"><a href="#cb12-14" aria-hidden="true" tabindex="-1"></a>g1</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="summative2_solutions_files/figure-html/unnamed-chunk-17-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</div>
</div>
</div>
<blockquote class="blockquote">
<p>These visual observations are in line with the numerical MAE outputs, as well. Consequently, one can say that the Mean Absolute Error Score generated by the SVM model was smaller than the one generated by the Decision tree model, specifically by <span class="math inline">\(0.086\)</span> units. As a result, purely in terms of this metric, one can say that the SVM model fits the data better, given the generated Mean Absolute Error score is smaller than the one produced by the Decision Tree Model. Obviously, several other metrics could (<em>and normally should</em>) be considered; however, when just looking at the MAE score, the SVM can be viewed as a better fit.</p>
<p>To explain the MAE I used the following websites as sources: 1. (2011). <a href="https://doi.org/10.1007/978-0-387-30164-8_525">Mean Absolute Error</a>. In: Sammut, C., Webb, G.I. (eds) Encyclopedia of Machine Learning. Springer, Boston, MA. 2. Statistics How To - (Absolute Error &amp; Mean Absolute Error (MAE))[https://www.statisticshowto.com/absolute-error/] 3. EUMETrain - <a href="https://resources.eumetrain.org/data/4/451/english/msg/ver_cont_var/uos3/uos3_ko1.htm">Mean Absolute Error (MAE) and Root Mean Squared Error (RMSE)</a></p>
</blockquote>
</section>
<section id="q7.-tweaking-the-svm-15-points" class="level2">
<h2 class="anchored" data-anchor-id="q7.-tweaking-the-svm-15-points">Q7. Tweaking the SVM (15 points)</h2>
<p>You were asked to train an alternative SVM (any other kernel than the default one) and compare the results with the default one using your designated metric.</p>
<p>Here follows a model solution:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>alternative_svm_model <span class="ot">&lt;-</span> </span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">svm_rbf</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">set_mode</span>(<span class="fu">str_to_lower</span>(task_type)) <span class="sc">%&gt;%</span> </span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">fit</span>(<span class="fu">as.formula</span>(formula_str), <span class="at">data=</span>df_filtered, <span class="at">kernel=</span><span class="st">'sigmoid'</span>)</span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>df_filtered_augmented3 <span class="ot">&lt;-</span> <span class="fu">augment</span>(alternative_svm_model, df_filtered)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<blockquote class="blockquote">
<p>I decided to tweak my alternative SVM model by changing the kernel to â€˜sigmoidâ€™ in opposition to the regular radial setting used in this assignmentâ€™s original SVM model. To compare the model fit of the <code>alternative_svm_model</code> to the <code>svm_model</code> let us take a look at the metrics outputted by the model:</p>
</blockquote>
<div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-3-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-1" role="tab" aria-controls="tabset-3-1" aria-selected="true">Original SVM</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-3-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-2" role="tab" aria-controls="tabset-3-2" aria-selected="false">Alternative SVM</a></li></ul>
<div class="tab-content">
<div id="tabset-3-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-3-1-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>svm_model</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>parsnip model object

Support Vector Machine object of class "ksvm" 

SV type: eps-svr  (regression) 
 parameter : epsilon = 0.1  cost C = 1 

Gaussian Radial Basis kernel function. 
 Hyperparameter : sigma =  5.38421450346088 

Number of Support Vectors : 5310 

Objective Function Value : -5858.098 
Training error : 1.118995 </code></pre>
</div>
</div>
</div>
<div id="tabset-3-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-3-2-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>alternative_svm_model</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>parsnip model object

Support Vector Machine object of class "ksvm" 

SV type: eps-svr  (regression) 
 parameter : epsilon = 0.1  cost C = 1 

Gaussian Radial Basis kernel function. 
 Hyperparameter : sigma =  6.14325421927459 

Number of Support Vectors : 5332 

Objective Function Value : -5857.443 
Training error : 1.118188 </code></pre>
</div>
</div>
</div>
</div>
</div>
<blockquote class="blockquote">
<p>First, the alternative model has a few more support vectors when compared to the original model. Furthermore, both models achieve almost the same training error of <span class="math inline">\(\approx 1.12\)</span>.</p>
<p>However, now to answer the question and compare the metric, namely the Mean Absolute Errors (MAE): the <code>alernative_svm_model</code>â€™s MAE score is <span class="math inline">\(0.2004705\)</span>, compared to the <code>svm_model</code>â€™s MAE score of <span class="math inline">\(0.2004687\)</span>. Here, one can say that the <code>svm_model</code> has a <em>slightly</em> lower MAE score, namely by a difference of <span class="math inline">\(0.0000018\)</span>. (<em>We canâ€™t even see that from Râ€™s standard output below</em>)</p>
</blockquote>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>df_filtered_augmented3 <span class="sc">%&gt;%</span> <span class="fu">metric_fn</span>(accident_severity, .pred)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 Ã— 3
  .metric .estimator .estimate
  &lt;chr&gt;   &lt;chr&gt;          &lt;dbl&gt;
1 mae     standard       0.200</code></pre>
</div>
</div>
<blockquote class="blockquote">
<p>The difference is barely observable, as one can attest additionally from the residual distribution plots. Nevertheless, the <code>svm_model</code>â€™s MAE score is still lower than the <code>alernative_svm_model</code>, indicating a lower distribution of faulty predictions. As a result, one can conclude that the SVM model, with the radial kernel, is a better fit to the data than the alternative SVM model, with the sigmoid kernel. <strong>However, while acknowledging that objectively, the SVM model is a better fit according to the MAE metric, one needs to remember that the difference between the two modelâ€™s MAEs was negligible</strong>.</p>
</blockquote>
</section>
<section id="q8." class="level2">
<h2 class="anchored" data-anchor-id="q8.">Q8.</h2>
<p>ğŸ‘· <strong>Work in progress</strong> ğŸ‘·</p>
<p>Come back later for a model response</p>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  let localAlternateSentinel = 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "î§‹";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var filterRegex = new RegExp(/^(?:http:|https:)\/\/(?:lse-dsi\.github\.io\/|localhost)/);
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
    var links = window.document.querySelectorAll('a:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
          // target, if specified
          link.setAttribute("target", "_blank");
          // default icon
          link.classList.add("external");
      }
    }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">Copyright 2022, LSE Data Science Institute</div>   
    <div class="nav-footer-right">
      <ul class="footer-items list-unstyled">
    <li class="nav-item compact">
    <a class="nav-link" href="mailto:DSI.Admin@lse.ac.uk">
      <i class="bi bi-mailbox" role="img">
</i> 
    </a>
  </li>  
    <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com/lsedatascience">
      <i class="bi bi-twitter" role="img">
</i> 
    </a>
  </li>  
</ul>
    </div>
  </div>
</footer>



</body></html>